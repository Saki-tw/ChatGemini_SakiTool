# ChatGemini
**90% 절약! 경량 벡터 데이터베이스! MCP 통합! 원클릭 완전한 Gemini AI 툴킷**

中文頁面: https://github.com/Saki-tw/ChatGemini_SakiTool/blob/main/README.md
English page: https://github.com/Saki-tw/ChatGemini_SakiTool/blob/main/README_EN.md
日本語ページ: https://github.com/Saki-tw/ChatGemini_SakiTool/blob/main/README_JA.md

---

## 💡 왜 이 도구를 사용하나요?

> **"API 비용을 절약하고 싶었을 뿐인데, 완전한 툴킷을 만들게 되었습니다"**
> —— Saki-Tw (Saki@saki-studio.com.tw with Claude)

이 프로젝트는 **Gemini API 비용을 절약하기** 위해 개인적으로 개발한 도구로 시작되었습니다. 사용 과정에서 지속적으로 최적화하여 자동 캐싱, 벡터 데이터베이스, 스마트 트리거 등의 기능을 추가한 결과, 기능이 완전하고 사용하기 쉬운 AI 툴킷으로 발전했습니다.

정말 편리하기 때문에 오픈소스로 공유하기로 결정했습니다!

### 🎯 핵심 기능

#### 💰 스마트 캐싱 시스템
자동 캐시 관리로 API 비용 절감 - Flash 모델 90%, Pro 모델 75% 절약. 대화가 5000토큰에 도달하면 자동으로 캐시를 구축하여 이후 쿼리 비용을 대폭 절감.

#### 🗄️ 경량 벡터 데이터베이스
FAISS를 사용하여 코드 인덱싱, 쿼리 복잡도를 O(n)에서 O(log n)으로 감소. 시맨틱 검색, 직교 중복 제거, 증분 업데이트 지원. 대규모 데이터베이스 설치 불필요.

#### 🌍 다국어 인터페이스
繁體中文, English, 日本語, 한국어 지원. 7,996줄의 전문 번역, 대화 중 `lang` 입력으로 즉시 전환, 스마트 폴백 메커니즘으로 안정성 보장.

#### 🔌 MCP 스마트 통합
MCP 서버 프로토콜 지원, 7개 도구 자동 감지(파일 작업, Git 관리, 웹 검색 등), 제로 설정 사용, 87.5% 테스트 합격률.

#### ⚡ 원라인 설치
```bash
git clone https://github.com/Saki-tw/ChatGemini_SakiTool.git && cd ChatGemini_SakiTool && sh INSTALL.sh --auto
```

macOS 및 Linux를 위한 완전 자동 설치. 설치 후 어디서나 `ChatGemini` 입력으로 실행.

---

## 📦 프로젝트 정보

**프로젝트 이름**: ChatGemini_SakiTool  
**버전**: v1.0.6  
**작성자**: Saki-tw with Claude Code  
**연락처**: Saki@saki-studio.com.tw  
**최종 업데이트**: 2025-11-01  

**API 키 신청**: https://aistudio.google.com/app/apikey
**월간 무료 할당량**: Gemini 2.5 Pro는 무료 사용 할당량 제공

---

## 🔥 버전 업데이트 기록

### 📅 v1.0.6 (2025-11-01) — 스마트 모델 관리

**핵심 업데이트**:

- 🤖 **동적 모델 리스트 시스템**: Google API에서 최신 사용 가능한 모델 자동 가져오기, 24시간 스마트 캐싱, 수동 새로고침 지원

- 🔧 **모델 환각 수정**: 존재하지 않는 모델 이름 수정, 이전 구성 자동 마이그레이션으로 원활한 업그레이드

- ⌨️ **입력 경험 최적화**: 터미널 입력 처리 개선, 화살표 키 및 백스페이스 지원, 모델 리스트 페이지네이션

- 🛠️ **시스템 호환성 향상**: 크로스 플랫폼 경로 처리 개선, 가상 환경 감지 최적화

---

### 📅 v1.0.5 (2025-10-29) — 플래그십 버전

#### 🌟 주요 개선 사항
- **다국어 시스템 완성**: 1,491개 繁體中文 + 533개 영일한 번역
- **MCP 통합 시스템**: 7가지 도구, 자동 감지 활성화, 87.5% 테스트 합격률
- **성능 최적화**: 배치 처리 가속화, 스마트 캐시, 메모리 최적화
- **필요 용량**: 약 150-200 MB (모든 종속 패키지 포함)
- **18개 핵심 패키지**: AI SDK, UI, 멀티미디어 처리, 벡터 데이터베이스

---

### 📅 v1.0.4 (2025-10-25)

#### 🌍 다국어 인터페이스 시스템
- **4개 언어 지원**: 繁體中文, English, 日本語, 한국어 완전 지원
- **원클릭 전환**: 대화 중 `lang` 입력으로 인터페이스 언어 전환
- **자동 감지**: 첫 실행 시 시스템 언어 자동 감지
- **완전 번역**: 모든 프롬프트 메시지, 오류 설명, 메뉴 인터페이스가 다국어화

#### ⚡ 성능 최적화
- **배치 처리 가속화**: 여러 요청을 동시 처리하여 전체 성능 향상
- **스마트 캐시 프리로딩**: 자주 사용되는 데이터를 자동으로 미리 로드하여 대기 시간 단축
- **메모리 사용 최적화**: 더 효율적인 데이터 관리로 메모리 사용량 감소

---

### 📅 v1.0.3 (2025-10-24)

#### ⚙️ 시스템 아키텍처 최적화
- **통합 구성 관리 시스템**: 3계층 아키텍처 설계 (시스템 기본값 → 사용자 구성 → 환경 변수), 우선순위 명확
- **메모리 관리 최적화**: 대화 기록 자동 저장, 최신 50개 활성 대화 유지, 오래된 대화는 디스크에 자동 아카이브
- **스마트 경로 관리**: 모든 출력 경로 (대화 기록, 미디어 출력 등) 통합 관리, 필요한 디렉토리 자동 생성

#### 🛡️ 오류 처리 대폭 강화
- **스마트 오류 진단**: 오류 원인 자동 분석 및 해결책 제안 (예: 패키지 누락 → 설치 명령 표시)
- **예방적 검증 시스템**: "프리플라이트 체크" 메커니즘, 실행 전 API 상태, 종속 도구, 매개변수 유효성 자동 확인
- **자동 수정 제안**: API 키 문제 자동 안내 설정, ffmpeg 누락 시 설치 지침 제공

---

## ✨ 완전 기능 목록

### 🎯 핵심 대화 기능

#### 💬 스마트 대화 시스템
- **스트리밍 출력**：실시간 응답, 완전 생성을 기다릴 필요 없음
- **200만 토큰 지원**：초장문 처리 능력（A4 문서 약 1500페이지 상당）
- **완벽한 중국어 처리**：번체 중국어에 최적화, 자연스럽고 유창함
- **멀티턴 기억**：컨텍스트 자동 추적, 대화 흐름 이해
- **실시간 비용 표시**：대화마다 NT$ 비용 표시, 소수점까지 정확

#### 🧠 사고 모드 제어
- **고정 예산 모드**：`[think:5000]` 토큰 예산을 지정하여 깊이 사고
- **자동 결정 모드**：`[think:auto]` AI가 문제 복잡도를 자동 판단
- **사고 비활성화**：`[no-think]` 간단한 질문에 빠른 응답
- **투명한 프로세스**：완전한 추론 프로세스 표시, AI 사고 이해

#### 💰 자동 캐싱 시스템（75-90% 절약）
- **스마트 축적**：대화가 5000토큰에 도달하면 자동으로 캐시 생성
- **1회 쿼리로 본전 회수**：캐시 생성 후 즉시 절약 시작
- **완전히 쉬움**：수동 관리 불필요, 완전 자동 운영
- **비용 분석**：캐시 절약률 실시간 표시
- **유연한 제어**：`[cache:now]` 즉시, `[cache:off]` 일시 중지, `[no-cache]` 단일 대화 제외

### 📁 파일 처리 기능

#### 📎 스마트 파일 첨부
- **30+ 텍스트 형식 자동 감지**：`.py` `.js` `.txt` `.md` `.json` `.yaml` 등
- **미디어 파일 업로드**：`.jpg` `.png` `.mp4` `.pdf` 처리 방법 자동 판단
- **멀티 파일 처리**：여러 파일을 한 번에 첨부하여 상관 분석
- **스마트 경로 파싱**：상대 경로, 절대 경로, `~` 홈 디렉토리 지원

#### 🔍 파일 분석 기능
- **코드 리뷰**：구문 검사, 로직 분석, 최적화 제안
- **문서 이해**：README, API 문서, 기술 사양 읽기
- **크로스 파일 분석**：여러 파일 간의 상호 작용 이해
- **오류 진단**：로그와 코드를 결합하여 문제 특정

### 💻 CodeGemini 기능

#### 📊 경량 벡터 데이터베이스（Codebase Embedding）
- **코드 인덱싱**：프로젝트 벡터 데이터베이스 구축
- **시맨틱 검색**：키워드뿐만 아니라 코드 의미 이해
- **FAISS 고속 인덱스**：쿼리 복잡도를 O(n)에서 O(log n)으로 감소
- **직교 중복 제거**：중복 자동 제거, 콘텐츠 선형 독립성 확보
- **증분 업데이트**：전체 인덱스 재구축 없이 단일 파일 업데이트
- **병렬 처리**：ThreadPoolExecutor로 멀티 파일 동시 처리
- **대화 검색**：과거 대화 내용 검색

#### 🔌 MCP 스마트 통합 시스템
- **7가지 도구 자동 감지**：파일 작업, Git 관리, 웹 검색, 순차 추론 등
- **제로 설정 사용**：사용 가능한 도구 자동 활성화, 수동 설정 불필요
- **87.5% 테스트 합격률**：엄격하게 테스트·검증됨
- **스마트 폴백**：도구를 사용할 수 없을 때 백업 솔루션으로 자동 전환

---

## 📦 설치

> **원라인·원커맨드 설치** - 완전 자동화, 어떠한 대화도 불필요

### 원클릭 자동 설치（권장）

다음 명령을 터미널에 복사&붙여넣기：

```bash
git clone https://github.com/Saki-tw/ChatGemini_SakiTool.git && cd ChatGemini_SakiTool && sh INSTALL.sh --auto
```

**완전 자동 설치（전체 버전）**：
- OS 자동 감지（macOS/Linux）
- **ChatGemini + CodeGemini**（전체 버전）자동 설치
- 어떠한 대화나 인증도 불필요
- **필요 용량**：약 150-200 MB（모든 종속 패키지 포함）

설치 완료 후：
1. 터미널 재시작（또는 `source ~/.zshrc` / `source ~/.bashrc` 실행）
2. **임의의 위치**에서 `ChatGemini` 입력하여 실행

**포함된 기능**：
- ✅ **ChatGemini**：대화, 이미지/동영상 분석·생성, 자동 캐싱
- ✅ **CodeGemini**：코드 어시스턴트, 벡터 데이터베이스 검색, MCP 통합

**패키지 목록**（18개 핵심 패키지）：

**AI & SDK**：
- `google-generativeai>=0.3.0` - Gemini 기존 SDK
- `google-genai>=1.45.0` - Gemini 새 버전 SDK（주요 사용）
- `google-cloud-translate>=3.22.0` - Google 번역 API（선택 사항）

**사용자 인터페이스**：
- `rich>=13.0.0` - 터미널 미화
- `prompt-toolkit>=3.0.0` - 고급 입력 기능（화살표 키, 자동 완성）
- `Pillow>=10.0.0` - 이미지 처리

**멀티미디어 처리**：
- `ffmpeg-python>=0.2.0` - 동영상 처리 Python 래퍼

**벡터 데이터베이스**：
- `numpy>=1.24.0` - 벡터 계산
- `faiss-cpu>=1.7.0` - FAISS 고속 벡터 인덱스（약 30MB）

**성능 최적화**：
- `aiohttp>=3.9.0` - 비동기 HTTP 클라이언트（약 5MB）
- `psutil>=5.9.0` - CPU 및 메모리 모니터링

**번역 및 도구**：
- `deep-translator>=1.11.4` - 무료 번역 엔진
- `duckduckgo-search>=4.0.0` - 웹 검색
- `python-dotenv>=1.0.0` - 환경 변수 관리
- `requests>=2.31.0` - HTTP 요청

**CodeGemini 전용**：
- `pyyaml>=6.0` - YAML 파싱
- `html2text>=2020.1.16` - HTML에서 텍스트로
- `beautifulsoup4>=4.12.0` - HTML 파싱
- `cachetools>=5.3.0` - 캐싱 도구

---

## 📄 라이선스

이 프로젝트는 MIT 라이선스로 라이선스가 부여되었습니다

---

**Gemini AI와의 대화를 즐기세요!** 🎉
