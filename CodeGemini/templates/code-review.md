# 程式碼審查提示詞模板

**檔案名稱:** [檔案路徑]
**審查日期:** [日期]
**審查者:** [審查者名稱]
**目的:** [審查目的]

---

## 審查重點

請協助審查以下程式碼，重點關注：

### 1. 程式碼品質
- [ ] 是否遵循專案的程式碼風格指南？
- [ ] 變數與函數命名是否清晰且有意義？
- [ ] 是否有重複的程式碼需要重構？
- [ ] 程式碼結構是否清晰易懂？

### 2. 功能正確性
- [ ] 程式邏輯是否正確？
- [ ] 是否處理了所有邊界條件？
- [ ] 錯誤處理是否完善？
- [ ] 是否有潛在的 bug？

### 3. 效能考量
- [ ] 是否有效能瓶頸？
- [ ] 演算法複雜度是否合理？
- [ ] 資源使用（記憶體、CPU）是否最佳化？
- [ ] 是否有不必要的計算或查詢？

### 4. 安全性
- [ ] 是否有安全漏洞（SQL Injection, XSS 等）？
- [ ] 敏感資料是否妥善處理？
- [ ] 輸入驗證是否完整？
- [ ] 存取控制是否正確？

### 5. 可維護性
- [ ] 註解是否充分且準確？
- [ ] 程式碼是否容易測試？
- [ ] 模組耦合度是否過高？
- [ ] 是否符合 SOLID 原則？

### 6. 測試覆蓋
- [ ] 是否有相對應的單元測試？
- [ ] 測試案例是否涵蓋主要情境？
- [ ] 是否測試了錯誤情況？

---

## 程式碼片段

```[language]
[貼上要審查的程式碼]
```

---

## 具體問題（可選）

### 問題 1
[描述具體問題或疑慮]

### 問題 2
[描述具體問題或疑慮]

---

## 期望輸出

請提供：

1. **總體評估** - 程式碼的整體品質評分（1-10）
2. **優點列表** - 程式碼做得好的地方
3. **問題列表** - 發現的問題，按嚴重程度排序：
   - 🔴 嚴重（Critical）- 必須修復
   - 🟡 重要（Major）- 應該修復
   - 🟢 次要（Minor）- 建議改進
4. **改進建議** - 具體的修改建議與程式碼範例
5. **最佳實踐建議** - 相關的最佳實踐參考

---

## 審查準則

### 嚴重問題（必須修復）
- 安全漏洞
- 邏輯錯誤
- 記憶體洩漏
- 資料遺失風險

### 重要問題（應該修復）
- 效能問題
- 不當的錯誤處理
- 違反設計模式
- 測試覆蓋不足

### 次要問題（建議改進）
- 程式碼風格不一致
- 註解不足
- 變數命名改進
- 小型重構機會

---

## 範例輸出格式

```markdown
# 程式碼審查報告

## 總體評估
評分：8/10

## 優點
- 程式碼結構清晰
- 錯誤處理完善
- 命名具有描述性

## 發現的問題

### 🔴 嚴重問題
1. [問題描述]
   - 位置：[行號或函數名稱]
   - 原因：[為什麼這是問題]
   - 建議：[如何修復]

### 🟡 重要問題
1. [問題描述]
   ...

### 🟢 次要問題
1. [問題描述]
   ...

## 改進建議

### 建議 1：[標題]
**現有程式碼：**
```language
[現有程式碼]
```

**建議修改：**
```language
[改進後的程式碼]
```

**理由：** [解釋為什麼這樣改進]

## 最佳實踐參考
- [相關的最佳實踐或設計模式]
```

---

## 使用方式

### 方法 1: 使用 Gemini CLI 互動模式

```bash
gemini --context ./templates/code-review.md
```

然後在對話中貼上程式碼。

### 方法 2: 使用專案上下文

```bash
gemini --context ./GEMINI.md
```

然後詢問：「請依照 code-review 模板審查以下程式碼：[貼上程式碼]」

### 方法 3: 使用 Checkpoint

```bash
gemini
> /save code-review-session
> [貼上此模板內容]
> [貼上要審查的程式碼]
```

---

## 自訂審查重點

您可以根據專案需求調整審查重點，例如：

### 前端專案
- [ ] 是否遵循 React/Vue 最佳實踐？
- [ ] 元件是否可重用？
- [ ] 是否有無障礙 (a11y) 問題？
- [ ] CSS 是否模組化？

### 後端 API 專案
- [ ] API 設計是否符合 RESTful 原則？
- [ ] 是否有適當的速率限制？
- [ ] 錯誤回應是否標準化？
- [ ] 是否有 API 文檔？

### 資料庫相關
- [ ] SQL 查詢是否最佳化？
- [ ] 是否有 N+1 查詢問題？
- [ ] 索引是否適當？
- [ ] 資料庫遷移是否可逆？

---

**提示:** 將此模板與 GEMINI.md 專案上下文結合使用，可以獲得更準確、更符合專案需求的程式碼審查結果。
